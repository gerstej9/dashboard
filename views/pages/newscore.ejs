<!DOCTYPE html>
<html>
  <head>
    <title>Numerai Dashboard</title>
    <link href= "../style/reset.css" rel= "stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href= "../style/base.css" rel= "stylesheet">
    <link id = "theme" href= "../style/<%=theme%>layout.css" rel= "stylesheet"> 
    <link href= "../style/modules.css" rel= "stylesheet">
  </head>
  <body>
    <header>
      <h1>NewScore Comparison</h1>
      <h2><%=date%></h2>
      <label class="switch">
        <input class = "toggle" type="checkbox" <%if(theme === 'dark'){%>checked<%}%>>
        <span class="slider round"></span>
      </label>
      <h3>Dark Mode</h3>
    </header>
    <main class = "newscore">
      <h2 class ="user">New Score</h2>
      <p>This page provides a table of user models for the oldest active round and can be downloaded as a csv file using the link</p><br>
      <p> 80th percentile is used to analyze the models, for correlation this corresponds to 80th percentile across all models (n=2400) </p><br>
      <p>Colors indicate category<p>
      <p>Green = >80 Percentile</p>
      <p>Purple = Less than 80 Percentile </p><br>
      <div class = "download">
        <a href = "./download">Download</a>
      </div>
      <div class = "titleRow monkey">
        <p>Model</p>
        <p>Corr</p>
        <p>MMC</p>
        <p>New Score</p>
        <p>Corr >80%</p>
        <p>Round</p>
      </div>
      <% for(let i =0; i< ninetyModelArr.length; i++ ){%>
        <div class = "modelRow cat">
          <p><%=ninetyModelArr[i].model%></p>
          <p><%=ninetyModelArr[i].corr.toFixed(3)%></p>
          <p><%=ninetyModelArr[i].mmc.toFixed(3)%></p>
          <p><%=ninetyModelArr[i].newscore.toFixed(3)%></p>
          <p><%=ninetyModelArr[i].corrPassing%></p>
          <p><%=round%></p>
        </div>
      <%}%>
      <% for(let i =0; i< userData.length; i++ ){%>
      <div class = "modelRow monkey">
        <p><%=userData[i].model%></p>
        <p><%=userData[i].corr.toFixed(3)%></p>
        <p><%=userData[i].mmc.toFixed(3)%></p>
        <p><%=userData[i].newscore.toFixed(3)%></p>
        <p><%=userData[i].corrPassing%></p>
        <p><%=round%></p>
      </div>
    <%}%>
    </main>
    <footer>

    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src= '/js/darkmode.js'></script>
  </body>
</html>